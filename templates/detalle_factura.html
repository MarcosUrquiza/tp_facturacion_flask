{% extends "base.html" %}
{% block title %}Detalle Factura{% endblock %}
{% block content %}
<div class="card">
  <div class="card-header bg-secondary text-white">
    <h3 class="card-title">Factura #{{ factura.id }}</h3>
  </div>
  <div class="card-body">
    <p><strong>Cliente:</strong> {{ cliente.nombre }}</p>
    <p><strong>Fecha:</strong> {{ factura.fecha }}</p>

    <h5>Detalle</h5>
    <table class="table table-striped">
      <tr>
        <th>Producto</th>
        <th>Cantidad</th>
        <th>Precio Unitario</th>
        <th>Subtotal</th>
      </tr>
      {% for d in detalles %}
      <tr>
        <td>{{ d.producto.descripcion }}</td>
        <td>{{ d.cantidad }}</td>
        <td>${{ "%.2f"|format(d.precio_unitario) }}</td>
        <td>${{ "%.2f"|format(d.subtotal) }}</td>
      </tr>
      {% endfor %}
    </table>
    <h4>Total: ${{ "%.2f"|format(factura.total) }}</h4>

    <a href="{{ url_for('facturas_view') }}" class="btn btn-secondary mt-3">â¬… Volver al listado</a>
  </div>
</div>
{% endblock %}
